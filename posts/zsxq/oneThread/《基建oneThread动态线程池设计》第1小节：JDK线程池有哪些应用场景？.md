2025å¹´06æœˆ30æ—¥ 23:02  
JDKçº¿ç¨‹æ± æœ‰å“ªäº›åº”ç”¨åœºæ™¯ï¼Œå…ƒæ•°æ®ä¿¡æ¯ï¼š

*  
ä»€ä¹ˆæ˜¯çº¿ç¨‹æ± oneThreadï¼š<https://t.zsxq.com/5GfrN>  
*  
ä»£ç ä»“åº“ï¼š<https://gitcode.net/nageoffer/onethread> ------ ç”³è¯·é¡¹ç›®æƒé™å‚è€ƒä¸Šè¿°çº¿ç¨‹æ± é¡¹ç›®é“¾æ¥  
*  
ç« èŠ‚éš¾åº¦ï¼šâ˜…â˜…â˜†â˜†â˜† - ä¸­ç­‰  
*  
  è§†é¢‘åœ°å€ï¼šæœ¬ç« èŠ‚å†…å®¹ç®€å•ï¼Œæ— 



*** ** * ** ***

å†…å®¹æ‘˜è¦ï¼šæœ¬æ–‡è¯¦ç»†ä»‹ç»äº†çº¿ç¨‹æ± çš„æ¦‚å¿µã€æ ¸å¿ƒä¼˜åŠ¿å’Œåº”ç”¨åœºæ™¯ã€‚é‡ç‚¹åˆ†æäº†ä¸¤ç§å¸¸è§åº”ç”¨åœºæ™¯ï¼šå¿«é€Ÿå“åº”ç”¨æˆ·è¯·æ±‚ï¼ˆå¦‚ç”µå•†æŸ¥è¯¢å•†å“è¯¦æƒ…ï¼‰å’Œå¿«é€Ÿå¤„ç†æ‰¹é‡ä»»åŠ¡ï¼ˆå¦‚æ‰¹é‡å‘é€çŸ­ä¿¡ï¼‰ï¼Œå¹¶é€šè¿‡ä»£ç ç¤ºä¾‹å¯¹æ¯”äº†ä¸²è¡Œå’Œå¹¶è¡Œå®ç°çš„æ€§èƒ½å·®å¼‚ã€‚

è¯¾ç¨‹ç›®å½•å¦‚ä¸‹æ‰€ç¤ºï¼š

*  
çº¿ç¨‹æ± ä»‹ç»  
*  
  çº¿ç¨‹æ± åº”ç”¨åœºæ™¯

çº¿ç¨‹æ± ä»‹ç»
-----

çº¿ç¨‹æ± æ˜¯ä¸€ç§åŸºäºæ± åŒ–æ€æƒ³ç®¡ç†çº¿ç¨‹çš„å·¥å…·ï¼Œä½¿ç”¨çº¿ç¨‹æ± å¯ä»¥**å‡å°‘åˆ›å»ºé”€æ¯çº¿ç¨‹çš„å¼€é”€** ï¼Œé¿å…çº¿ç¨‹è¿‡å¤šå¯¼è‡´ç³»ç»Ÿèµ„æºè€—å°½ã€‚å……åˆ†åˆ©ç”¨æ± å†…è®¡ç®—èµ„æºï¼Œç­‰å¾…åˆ†é…å¹¶å‘æ‰§è¡Œä»»åŠ¡ï¼Œ**æé«˜ç³»ç»Ÿæ€§èƒ½å’Œå“åº”èƒ½åŠ›**ã€‚

åœ¨ä¸šåŠ¡ç³»ç»Ÿå¼€å‘è¿‡ç¨‹ä¸­ï¼Œçº¿ç¨‹æ± æœ‰ä¸¤ä¸ªå¸¸è§çš„åº”ç”¨åœºæ™¯ï¼Œåˆ†åˆ«æ˜¯ï¼š**å¿«é€Ÿå“åº”ç”¨æˆ·è¯·æ±‚å’Œå¿«é€Ÿå¤„ç†æ‰¹é‡ä»»åŠ¡**ã€‚

çº¿ç¨‹æ± åº”ç”¨åœºæ™¯
-------

### 1. å¿«é€Ÿå“åº”ç”¨æˆ·è¯·æ±‚ {#1}

ä»¥ç”µå•†ä¸­çš„æŸ¥è¯¢å•†å“è¯¦æƒ…æ¥å£ä¸¾ä¾‹ï¼Œä»ç”¨æˆ·å‘èµ·è¯·æ±‚å¼€å§‹ï¼Œæƒ³è¦è·å–åˆ°å•†å“å…¨éƒ¨ä¿¡æ¯ï¼Œå¯èƒ½ä¼šåŒ…æ‹¬è·å–å•†å“åŸºæœ¬ä¿¡æ¯ã€åº“å­˜ä¿¡æ¯ã€ä¼˜æƒ åˆ¸ä»¥åŠè¯„è®ºç­‰å¤šä¸ªæŸ¥è¯¢é€»è¾‘ï¼Œå‡è®¾æ¯ä¸ªæŸ¥è¯¢æ˜¯ 50msï¼Œ**å¦‚æœæ˜¯ä¸²è¡ŒåŒ–æŸ¥è¯¢åˆ™éœ€è¦ 200ms**ï¼ŒæŸ¥è¯¢æ€§èƒ½ä¸€èˆ¬ã€‚

![1710916579007-154bc12d-da4f-41f7-bd3b-3bd4453b59ce.png](https://article-images.zsxq.com/Fjz_2Izwdpwjw6JSe7Jx8BuYH-ls)

è€Œå¦‚æœè¯´é€šè¿‡çº¿ç¨‹æ± çš„æ–¹å¼å¹¶è¡ŒæŸ¥è¯¢ï¼Œé‚£æŸ¥è¯¢å…¨éƒ¨å•†å“ä¿¡æ¯çš„æ—¶é—´å°±å–å†³äºå¤šä¸ªæµç¨‹ä¸­æœ€æ…¢çš„é‚£ä¸€æ¡ã€‚

å‡è®¾ä¼˜æƒ ä¿¡æ¯æµç¨‹æŸ¥è¯¢æ—¶é—´ 80msï¼Œå…¶ä»–æµç¨‹æŸ¥è¯¢æ—¶é—´ 50msï¼Œç»è¿‡çº¿ç¨‹æ± å¹¶è¡Œä¼˜åŒ–åï¼Œå•†å“è¯¦æƒ…æ¥å£å“åº”æ—¶é—´å°±æ˜¯ 80msï¼Œ**é€šè¿‡å¹¶è¡Œç¼©çŸ­äº†æ•´ä½“æŸ¥è¯¢æ—¶é—´**ã€‚
> çº¿ç¨‹æ± ç§å¹¶è¡Œæäº¤ä»»åŠ¡çš„å®Œæˆæ—¶é—´ï¼Œå–å†³äºè¿™äº›ä»»åŠ¡ä¸­æ‰§è¡Œæ—¶é—´æœ€æ…¢çš„æµç¨‹ã€‚

![1710916862386-3a8a4df9-a55d-4791-b9c3-20afb7d2de94.png](https://article-images.zsxq.com/FgrMg8xoPkJ4MWZEwNHahw9PExQP)

è¿™ç§åœºæ™¯æƒ³è¦è¾¾åˆ°çš„æ•ˆæœæ˜¯**æœ€å¿«æ—¶é—´å°†ç»“æœå“åº”ç»™ç”¨æˆ·** ï¼Œæˆ‘ä»¬åœ¨åˆ›å»ºçº¿ç¨‹æ± æ—¶**ä¸åº”è¯¥ä½¿ç”¨é˜»å¡é˜Ÿåˆ—å»ç¼“å†²ä»»åŠ¡**ï¼Œè€Œæ˜¯å¯ä»¥å°è¯•é€‚å½“è°ƒå¤§æ ¸å¿ƒçº¿ç¨‹æ•°å’Œæœ€å¤§çº¿ç¨‹æ•°ï¼Œæé«˜ä»»åŠ¡å¹¶è¡Œæ‰§è¡Œçš„æ€§èƒ½ã€‚

é€šè¿‡ä¸²è¡ŒåŒ–è·å–å•†å“è¯¦æƒ…ä¿¡æ¯ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š  
textjavascripttypescriptcsshtmlbashjsonmarkdownpythonjavaccpprubygorustphpsqlyaml Copy

                    â€‹
    import lombok.SneakyThrows;
    â€‹
    public class Main {
    â€‹
        public static void main(String[] args) {
            long startTime = System.currentTimeMillis();
            getProductInventory();
            getProductPromotions();
            getProductReviews();
            System.out.println("æŸ¥è¯¢å•†å“è¯¦æƒ…è€—æ—¶ï¼š" + (System.currentTimeMillis() - startTime));
        }
    â€‹
        /**
         * è·å–å•†å“åº“å­˜ä¿¡æ¯
         */
        @SneakyThrows
        private static Object getProductInventory() {
            Thread.sleep(50);
            return new Object();
        }
    â€‹
        /**
         * è·å–å•†å“ä¼˜æƒ ä¿¡æ¯
         */
        @SneakyThrows
        private static Object getProductPromotions() {
            Thread.sleep(80);
            return new Object();
        }
    â€‹
        /**
         * è·å–å•†å“è¯„è®ºä¿¡æ¯
         */
        @SneakyThrows
        private static Object getProductReviews() {
            Thread.sleep(50);
            return new Object();
        }
    }
              
ä¸Šé¢ç¨‹åºè¾“å‡ºè€—æ—¶å¤§æ¦‚åœ¨ 180ms åˆ° 200ms ä¹‹é—´ï¼Œå› ä¸ºç¨‹åºæ˜¯ä¸²è¡ŒåŒ–ï¼Œæ‰€ä»¥è¦å°†æ‰€æœ‰æ–¹æ³•è€—æ—¶è¿›è¡Œç´¯åŠ ï¼ŒåŒæ—¶è¦åŠ ä¸Šè®¡ç®—æœºè¿è¡Œæ‰“å°å’Œè·å–å½“å‰æ—¶é—´ç­‰æ­¥éª¤ã€‚

å¦‚æœå¸Œæœ›é€šè¿‡çº¿ç¨‹æ± çš„æ–¹å¼å¹¶è¡ŒæŸ¥è¯¢ï¼Œéœ€è¦é‡æ„ä¸‹ç›¸å…³é€»è¾‘ã€‚  
textjavascripttypescriptcsshtmlbashjsonmarkdownpythonjavaccpprubygorustphpsqlyaml Copy

                    import lombok.SneakyThrows;
    â€‹
    import java.util.ArrayList;
    import java.util.List;
    import java.util.concurrent.Future;
    import java.util.concurrent.SynchronousQueue;
    import java.util.concurrent.ThreadPoolExecutor;
    import java.util.concurrent.TimeUnit;
    â€‹
    public class Main {
    â€‹
        private static final ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor(
                6,
                9,
                1024,
                TimeUnit.SECONDS,
                new SynchronousQueue<>());
    â€‹
        @SneakyThrows
        public static void main(String[] args) {
            long startTime = System.currentTimeMillis();
            List<Future<Object>> results = new ArrayList<>();
            Future<Object> getProductInventory = threadPoolExecutor.submit(Main::getProductInventory);
            results.add(getProductInventory);
            Future<Object> getProductPromotions = threadPoolExecutor.submit(Main::getProductPromotions);
            results.add(getProductPromotions);
            Future<Object> getProductReviews = threadPoolExecutor.submit(Main::getProductReviews);
            results.add(getProductReviews);
            for (Future<Object> result : results) {
                result.get();
            }
            System.out.println("æŸ¥è¯¢å•†å“è¯¦æƒ…è€—æ—¶ï¼š" + (System.currentTimeMillis() - startTime));
            // ä¼˜é›…ç¼–ç ï¼Œè¿™é‡Œå¦‚æœä¸è¿›è¡Œåœæ­¢çº¿ç¨‹æ± ï¼Œæµ‹è¯•æ–¹æ³•ä¸èƒ½ä¸»åŠ¨ç»“æŸ
            threadPoolExecutor.shutdown();
        }
    â€‹
        /**
         * è·å–å•†å“åº“å­˜ä¿¡æ¯
         */
        @SneakyThrows
        private static Object getProductInventory() {
            Thread.sleep(50);
            return new Object();
        }
    â€‹
        /**
         * è·å–å•†å“ä¼˜æƒ ä¿¡æ¯
         */
        @SneakyThrows
        private static Object getProductPromotions() {
            Thread.sleep(80);
            return new Object();
        }
    â€‹
        /**
         * è·å–å•†å“è¯„è®ºä¿¡æ¯
         */
        @SneakyThrows
        private static Object getProductReviews() {
            Thread.sleep(50);
            return new Object();
        }
    }
              
å¹¶å‘æ‰§è¡Œçš„ç¨‹åºè€—æ—¶å¤§æ¦‚åœ¨ 80ms åˆ° 100ms ä¹‹é—´ï¼Œå› ä¸ºä¸Šé¢æœ‰è¯´ï¼Œçº¿ç¨‹æ± ç§å¹¶è¡Œæäº¤ä»»åŠ¡çš„å®Œæˆæ—¶é—´ï¼Œå–å†³äºè¿™äº›ä»»åŠ¡ä¸­æ‰§è¡Œæ—¶é—´æœ€æ…¢çš„æµç¨‹ã€‚

### 2. å¿«é€Ÿå¤„ç†æ‰¹é‡ä»»åŠ¡ {#2}

åœ¨å·¥ä½œä¸­ï¼Œå¿«é€Ÿå¤„ç†æ‰¹é‡ä»»åŠ¡åœºæ™¯æ¯”è¾ƒå¤šï¼ŒåŒ…æ‹¬ä¸é™äºä»¥ä¸‹ä¸¾å¾—ä¾‹å­ï¼š

*  
å…¬å¸ä¸¾åŠå‘¨å¹´åº†ï¼Œéœ€è¦ç»™æ¯ä¸ªå‘˜å·¥å‘é€é‚®ä»¶è¯´æ˜ã€‚  
*  
  çŸ­ä¿¡å¹³å°åå°é€šè¿‡ä¸Šä¼  Excel ç»™ä¸€æ‰¹ç”¨æˆ·å‘é€çŸ­ä¿¡ã€‚

æˆ‘ä»¬ä»¥å‘é€æ‰¹é‡çŸ­ä¿¡ä¸¾ä¾‹å­ï¼Œå‡è®¾éœ€è¦ç»™ 100 ä¸‡ç”¨æˆ·å‘é€çŸ­ä¿¡é€šçŸ¥ï¼Œä¸€æ¡çŸ­ä¿¡é€šçŸ¥æµç¨‹éœ€è¦ 50msï¼Œåˆæ­¥è®¡ç®—å¦‚æœè¦ç»™æ‰€æœ‰ç”¨æˆ·å‘é€æˆåŠŸï¼Œæ‰§è¡Œæ—¶é—´å¤§æ¦‚éœ€è¦ 13 å°æ—¶å·¦å³ã€‚

![1710924369659-ac0388a5-aca6-43d4-ae06-b1f71ca81cc1.png](https://article-images.zsxq.com/Fl62UWxawjC4WjqcSy37FUMqMTo0)

å¤„ç†æ‰¹é‡ä»»åŠ¡å’Œå¿«é€Ÿå“åº”ç”¨æˆ·è¯·æ±‚ä¸ä¸€è‡´ï¼Œåœ¨åè€…çš„ä½¿ç”¨åœºæ™¯ä¸­ï¼Œä¸»çº¿ç¨‹éœ€è¦é˜»å¡çš„ç­‰å¾…æ‰€æœ‰ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œå› æ­¤å¿…é¡»è¦å°½å¯èƒ½å‡å°‘ç­‰å¾…æ—¶é—´ï¼Œè€Œå‰è€…çš„ä½¿ç”¨åœºæ™¯ä¸­åˆ™å®Œå…¨ä¸éœ€è¦è€ƒè™‘è¿™ä¸ªé—®é¢˜ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªåˆé€‚çš„é˜»å¡é˜Ÿåˆ—ç”¨æ¥ç¼“å†²ä»»åŠ¡ã€‚
> å¤§é‡ä»»åŠ¡å †ç§¯çº¿ç¨‹æ± é˜»å¡é˜Ÿåˆ—åœºæ™¯ä¸‹ï¼Œå¯èƒ½ä¼šé‡åˆ°é¡¹ç›®å‘å¸ƒé‡å¯æˆ–è€…æ„å¤–å®•æœºç­‰æƒ…å†µï¼Œè¿›è€Œå¯¼è‡´ä»»åŠ¡ä¸¢å¤±é£é™©ã€‚

å¦‚æœæˆ‘ä»¬é€šè¿‡çº¿ç¨‹æ± å¹¶å‘æ‰§è¡Œï¼Œå‡è®¾çº¿ç¨‹æ± å†…çº¿ç¨‹æ•°æ˜¯ 10 ä¸ªï¼Œé‚£ä¹ˆæ‰§è¡Œæ—¶é—´å°†ä¼šå¤§å¹…åº¦ç¼©å‡ï¼Œæœ€ä½³æƒ…å†µä¼šç¼©çŸ­æ—¶é—´æ—¶é—´æ¥è¿‘ 10 å€çš„æ€§èƒ½ï¼Œçº¦ç­‰äº 1 å°æ—¶ 38 åˆ†é’Ÿå·¦å³ã€‚

![1710924383065-d72a3b22-e146-4ba3-bef6-03916142d308.png](https://article-images.zsxq.com/FrbYdbCjGzYynz80GYCHB5ROplVo)

é€šè¿‡ä¸²è¡ŒåŒ–æ‰¹é‡å‘é€ç”¨æˆ·çŸ­ä¿¡é€šçŸ¥ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š  
textjavascripttypescriptcsshtmlbashjsonmarkdownpythonjavaccpprubygorustphpsqlyaml Copy

                    import cn.hutool.core.collection.ListUtil;
    import lombok.SneakyThrows;
    â€‹
    import java.util.List;
    â€‹
    public class Main {
    â€‹
        public static void main(String[] args) {
            List<String> phones = ListUtil.of("1560116xxxx", "1560116xxxx", "1560116xxxx", "1560116xxxx");
            for (String phone : phones) {
                sendPhoneSms(phone);
            }
        }
    â€‹
        /**
         * å‘é€æ‰‹æœºçŸ­ä¿¡æµç¨‹
         */
        @SneakyThrows
        private static void sendPhoneSms(String phone) {
            Thread.sleep(50);
        }
    }
              
åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨é˜»å¡é˜Ÿåˆ—æ¥ç¼“å†²ä»»åŠ¡ã€‚æäº¤ä»»åŠ¡çš„çº¿ç¨‹å°†ä»»åŠ¡æäº¤åˆ°çº¿ç¨‹æ± ï¼Œç„¶åçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹ä¼šä»é˜»å¡é˜Ÿåˆ—ä¸­è·å–ä»»åŠ¡å¹¶æ‰§è¡Œã€‚

è¿™ç§æ‰§è¡Œæ–¹å¼å…è®¸ä»»åŠ¡çš„æäº¤å’Œæ‰§è¡Œè§£è€¦ï¼Œæé«˜äº†ç³»ç»Ÿçš„çµæ´»æ€§å’Œå¹¶å‘å¤„ç†èƒ½åŠ›ã€‚  
textjavascripttypescriptcsshtmlbashjsonmarkdownpythonjavaccpprubygorustphpsqlyaml Copy

                    import cn.hutool.core.collection.ListUtil;
    import lombok.SneakyThrows;
    â€‹
    import java.util.List;
    import java.util.concurrent.LinkedBlockingQueue;
    import java.util.concurrent.ThreadPoolExecutor;
    import java.util.concurrent.TimeUnit;
    â€‹
    public class Main {
    â€‹
        private static final ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor(
                10,
                10,
                1024,
                TimeUnit.SECONDS,
                new LinkedBlockingQueue<>(100000));
    â€‹
        public static void main(String[] args) {
            List<String> phones = ListUtil.of("1560116xxxx", "1560116xxxx", "1560116xxxx", "1560116xxxx");
            for (String phone : phones) {
                threadPoolExecutor.execute(() -> sendPhoneSms(phone));
            }
        }
    â€‹
        /**
         * å‘é€æ‰‹æœºçŸ­ä¿¡æµç¨‹
         */
        @SneakyThrows
        private static void sendPhoneSms(String phone) {
            Thread.sleep(50);
        }
    }
              
ç»çŸ¥æ­¤äº‹è¦èº¬è¡Œï¼Œéå¸¸å»ºè®®å¤§å®¶èƒ½å¤Ÿå®é™…æœ¬åœ°ä»£ç è¿è¡Œä¸‹çº¿ç¨‹æ± ï¼Œå…¥é—¨å¹¶å‘ç¼–ç¨‹ä¸äºŒä¹‹é€‰ã€‚

å®Œç»“ï¼Œæ’’èŠ± ğŸ‰  
JDKçº¿ç¨‹æ± æœ‰å“ªäº›åº”ç”¨åœºæ™¯ï¼Œå…ƒæ•°æ®ä¿¡æ¯ï¼š

*  
ä»€ä¹ˆæ˜¯çº¿ç¨‹æ± oneThreadï¼š<https://t.zsxq.com/5GfrN>  
*  
ä»£ç ä»“åº“ï¼š<https://gitcode.net/nageoffer/onethread> ------ ç”³è¯·é¡¹ç›®æƒé™å‚è€ƒä¸Šè¿°çº¿ç¨‹æ± é¡¹ç›®é“¾æ¥  
*  
ç« èŠ‚éš¾åº¦ï¼šâ˜…â˜…â˜†â˜†â˜† - ä¸­ç­‰  
*  
  è§†é¢‘åœ°å€ï¼šæœ¬ç« èŠ‚å†…å®¹ç®€å•ï¼Œæ— 



*** ** * ** ***

å†…å®¹æ‘˜è¦ï¼šæœ¬æ–‡è¯¦ç»†ä»‹ç»äº†çº¿ç¨‹æ± çš„æ¦‚å¿µã€æ ¸å¿ƒä¼˜åŠ¿å’Œåº”ç”¨åœºæ™¯ã€‚é‡ç‚¹åˆ†æäº†ä¸¤ç§å¸¸è§åº”ç”¨åœºæ™¯ï¼šå¿«é€Ÿå“åº”ç”¨æˆ·è¯·æ±‚ï¼ˆå¦‚ç”µå•†æŸ¥è¯¢å•†å“è¯¦æƒ…ï¼‰å’Œå¿«é€Ÿå¤„ç†æ‰¹é‡ä»»åŠ¡ï¼ˆå¦‚æ‰¹é‡å‘é€çŸ­ä¿¡ï¼‰ï¼Œå¹¶é€šè¿‡ä»£ç ç¤ºä¾‹å¯¹æ¯”äº†ä¸²è¡Œå’Œå¹¶è¡Œå®ç°çš„æ€§èƒ½å·®å¼‚ã€‚

è¯¾ç¨‹ç›®å½•å¦‚ä¸‹æ‰€ç¤ºï¼š

*  
çº¿ç¨‹æ± ä»‹ç»  
*  
  çº¿ç¨‹æ± åº”ç”¨åœºæ™¯

çº¿ç¨‹æ± ä»‹ç»
-----

çº¿ç¨‹æ± æ˜¯ä¸€ç§åŸºäºæ± åŒ–æ€æƒ³ç®¡ç†çº¿ç¨‹çš„å·¥å…·ï¼Œä½¿ç”¨çº¿ç¨‹æ± å¯ä»¥**å‡å°‘åˆ›å»ºé”€æ¯çº¿ç¨‹çš„å¼€é”€** ï¼Œé¿å…çº¿ç¨‹è¿‡å¤šå¯¼è‡´ç³»ç»Ÿèµ„æºè€—å°½ã€‚å……åˆ†åˆ©ç”¨æ± å†…è®¡ç®—èµ„æºï¼Œç­‰å¾…åˆ†é…å¹¶å‘æ‰§è¡Œä»»åŠ¡ï¼Œ**æé«˜ç³»ç»Ÿæ€§èƒ½å’Œå“åº”èƒ½åŠ›**ã€‚

åœ¨ä¸šåŠ¡ç³»ç»Ÿå¼€å‘è¿‡ç¨‹ä¸­ï¼Œçº¿ç¨‹æ± æœ‰ä¸¤ä¸ªå¸¸è§çš„åº”ç”¨åœºæ™¯ï¼Œåˆ†åˆ«æ˜¯ï¼š**å¿«é€Ÿå“åº”ç”¨æˆ·è¯·æ±‚å’Œå¿«é€Ÿå¤„ç†æ‰¹é‡ä»»åŠ¡**ã€‚

çº¿ç¨‹æ± åº”ç”¨åœºæ™¯
-------

### 1. å¿«é€Ÿå“åº”ç”¨æˆ·è¯·æ±‚ {#1}

ä»¥ç”µå•†ä¸­çš„æŸ¥è¯¢å•†å“è¯¦æƒ…æ¥å£ä¸¾ä¾‹ï¼Œä»ç”¨æˆ·å‘èµ·è¯·æ±‚å¼€å§‹ï¼Œæƒ³è¦è·å–åˆ°å•†å“å…¨éƒ¨ä¿¡æ¯ï¼Œå¯èƒ½ä¼šåŒ…æ‹¬è·å–å•†å“åŸºæœ¬ä¿¡æ¯ã€åº“å­˜ä¿¡æ¯ã€ä¼˜æƒ åˆ¸ä»¥åŠè¯„è®ºç­‰å¤šä¸ªæŸ¥è¯¢é€»è¾‘ï¼Œå‡è®¾æ¯ä¸ªæŸ¥è¯¢æ˜¯ 50msï¼Œ**å¦‚æœæ˜¯ä¸²è¡ŒåŒ–æŸ¥è¯¢åˆ™éœ€è¦ 200ms**ï¼ŒæŸ¥è¯¢æ€§èƒ½ä¸€èˆ¬ã€‚

![1710916579007-154bc12d-da4f-41f7-bd3b-3bd4453b59ce.png](https://article-images.zsxq.com/Fjz_2Izwdpwjw6JSe7Jx8BuYH-ls)

è€Œå¦‚æœè¯´é€šè¿‡çº¿ç¨‹æ± çš„æ–¹å¼å¹¶è¡ŒæŸ¥è¯¢ï¼Œé‚£æŸ¥è¯¢å…¨éƒ¨å•†å“ä¿¡æ¯çš„æ—¶é—´å°±å–å†³äºå¤šä¸ªæµç¨‹ä¸­æœ€æ…¢çš„é‚£ä¸€æ¡ã€‚

å‡è®¾ä¼˜æƒ ä¿¡æ¯æµç¨‹æŸ¥è¯¢æ—¶é—´ 80msï¼Œå…¶ä»–æµç¨‹æŸ¥è¯¢æ—¶é—´ 50msï¼Œç»è¿‡çº¿ç¨‹æ± å¹¶è¡Œä¼˜åŒ–åï¼Œå•†å“è¯¦æƒ…æ¥å£å“åº”æ—¶é—´å°±æ˜¯ 80msï¼Œ**é€šè¿‡å¹¶è¡Œç¼©çŸ­äº†æ•´ä½“æŸ¥è¯¢æ—¶é—´**ã€‚
> çº¿ç¨‹æ± ç§å¹¶è¡Œæäº¤ä»»åŠ¡çš„å®Œæˆæ—¶é—´ï¼Œå–å†³äºè¿™äº›ä»»åŠ¡ä¸­æ‰§è¡Œæ—¶é—´æœ€æ…¢çš„æµç¨‹ã€‚

![1710916862386-3a8a4df9-a55d-4791-b9c3-20afb7d2de94.png](https://article-images.zsxq.com/FgrMg8xoPkJ4MWZEwNHahw9PExQP)

è¿™ç§åœºæ™¯æƒ³è¦è¾¾åˆ°çš„æ•ˆæœæ˜¯**æœ€å¿«æ—¶é—´å°†ç»“æœå“åº”ç»™ç”¨æˆ·** ï¼Œæˆ‘ä»¬åœ¨åˆ›å»ºçº¿ç¨‹æ± æ—¶**ä¸åº”è¯¥ä½¿ç”¨é˜»å¡é˜Ÿåˆ—å»ç¼“å†²ä»»åŠ¡**ï¼Œè€Œæ˜¯å¯ä»¥å°è¯•é€‚å½“è°ƒå¤§æ ¸å¿ƒçº¿ç¨‹æ•°å’Œæœ€å¤§çº¿ç¨‹æ•°ï¼Œæé«˜ä»»åŠ¡å¹¶è¡Œæ‰§è¡Œçš„æ€§èƒ½ã€‚

é€šè¿‡ä¸²è¡ŒåŒ–è·å–å•†å“è¯¦æƒ…ä¿¡æ¯ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š  
textjavascripttypescriptcsshtmlbashjsonmarkdownpythonjavaccpprubygorustphpsqlyaml Copy

                    â€‹
    import lombok.SneakyThrows;
    â€‹
    public class Main {
    â€‹
        public static void main(String[] args) {
            long startTime = System.currentTimeMillis();
            getProductInventory();
            getProductPromotions();
            getProductReviews();
            System.out.println("æŸ¥è¯¢å•†å“è¯¦æƒ…è€—æ—¶ï¼š" + (System.currentTimeMillis() - startTime));
        }
    â€‹
        /**
         * è·å–å•†å“åº“å­˜ä¿¡æ¯
         */
        @SneakyThrows
        private static Object getProductInventory() {
            Thread.sleep(50);
            return new Object();
        }
    â€‹
        /**
         * è·å–å•†å“ä¼˜æƒ ä¿¡æ¯
         */
        @SneakyThrows
        private static Object getProductPromotions() {
            Thread.sleep(80);
            return new Object();
        }
    â€‹
        /**
         * è·å–å•†å“è¯„è®ºä¿¡æ¯
         */
        @SneakyThrows
        private static Object getProductReviews() {
            Thread.sleep(50);
            return new Object();
        }
    }
              
ä¸Šé¢ç¨‹åºè¾“å‡ºè€—æ—¶å¤§æ¦‚åœ¨ 180ms åˆ° 200ms ä¹‹é—´ï¼Œå› ä¸ºç¨‹åºæ˜¯ä¸²è¡ŒåŒ–ï¼Œæ‰€ä»¥è¦å°†æ‰€æœ‰æ–¹æ³•è€—æ—¶è¿›è¡Œç´¯åŠ ï¼ŒåŒæ—¶è¦åŠ ä¸Šè®¡ç®—æœºè¿è¡Œæ‰“å°å’Œè·å–å½“å‰æ—¶é—´ç­‰æ­¥éª¤ã€‚

å¦‚æœå¸Œæœ›é€šè¿‡çº¿ç¨‹æ± çš„æ–¹å¼å¹¶è¡ŒæŸ¥è¯¢ï¼Œéœ€è¦é‡æ„ä¸‹ç›¸å…³é€»è¾‘ã€‚  
textjavascripttypescriptcsshtmlbashjsonmarkdownpythonjavaccpprubygorustphpsqlyaml Copy

                    import lombok.SneakyThrows;
    â€‹
    import java.util.ArrayList;
    import java.util.List;
    import java.util.concurrent.Future;
    import java.util.concurrent.SynchronousQueue;
    import java.util.concurrent.ThreadPoolExecutor;
    import java.util.concurrent.TimeUnit;
    â€‹
    public class Main {
    â€‹
        private static final ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor(
                6,
                9,
                1024,
                TimeUnit.SECONDS,
                new SynchronousQueue<>());
    â€‹
        @SneakyThrows
        public static void main(String[] args) {
            long startTime = System.currentTimeMillis();
            List<Future<Object>> results = new ArrayList<>();
            Future<Object> getProductInventory = threadPoolExecutor.submit(Main::getProductInventory);
            results.add(getProductInventory);
            Future<Object> getProductPromotions = threadPoolExecutor.submit(Main::getProductPromotions);
            results.add(getProductPromotions);
            Future<Object> getProductReviews = threadPoolExecutor.submit(Main::getProductReviews);
            results.add(getProductReviews);
            for (Future<Object> result : results) {
                result.get();
            }
            System.out.println("æŸ¥è¯¢å•†å“è¯¦æƒ…è€—æ—¶ï¼š" + (System.currentTimeMillis() - startTime));
            // ä¼˜é›…ç¼–ç ï¼Œè¿™é‡Œå¦‚æœä¸è¿›è¡Œåœæ­¢çº¿ç¨‹æ± ï¼Œæµ‹è¯•æ–¹æ³•ä¸èƒ½ä¸»åŠ¨ç»“æŸ
            threadPoolExecutor.shutdown();
        }
    â€‹
        /**
         * è·å–å•†å“åº“å­˜ä¿¡æ¯
         */
        @SneakyThrows
        private static Object getProductInventory() {
            Thread.sleep(50);
            return new Object();
        }
    â€‹
        /**
         * è·å–å•†å“ä¼˜æƒ ä¿¡æ¯
         */
        @SneakyThrows
        private static Object getProductPromotions() {
            Thread.sleep(80);
            return new Object();
        }
    â€‹
        /**
         * è·å–å•†å“è¯„è®ºä¿¡æ¯
         */
        @SneakyThrows
        private static Object getProductReviews() {
            Thread.sleep(50);
            return new Object();
        }
    }
              
å¹¶å‘æ‰§è¡Œçš„ç¨‹åºè€—æ—¶å¤§æ¦‚åœ¨ 80ms åˆ° 100ms ä¹‹é—´ï¼Œå› ä¸ºä¸Šé¢æœ‰è¯´ï¼Œçº¿ç¨‹æ± ç§å¹¶è¡Œæäº¤ä»»åŠ¡çš„å®Œæˆæ—¶é—´ï¼Œå–å†³äºè¿™äº›ä»»åŠ¡ä¸­æ‰§è¡Œæ—¶é—´æœ€æ…¢çš„æµç¨‹ã€‚

### 2. å¿«é€Ÿå¤„ç†æ‰¹é‡ä»»åŠ¡ {#2}

åœ¨å·¥ä½œä¸­ï¼Œå¿«é€Ÿå¤„ç†æ‰¹é‡ä»»åŠ¡åœºæ™¯æ¯”è¾ƒå¤šï¼ŒåŒ…æ‹¬ä¸é™äºä»¥ä¸‹ä¸¾å¾—ä¾‹å­ï¼š

*  
å…¬å¸ä¸¾åŠå‘¨å¹´åº†ï¼Œéœ€è¦ç»™æ¯ä¸ªå‘˜å·¥å‘é€é‚®ä»¶è¯´æ˜ã€‚  
*  
  çŸ­ä¿¡å¹³å°åå°é€šè¿‡ä¸Šä¼  Excel ç»™ä¸€æ‰¹ç”¨æˆ·å‘é€çŸ­ä¿¡ã€‚

æˆ‘ä»¬ä»¥å‘é€æ‰¹é‡çŸ­ä¿¡ä¸¾ä¾‹å­ï¼Œå‡è®¾éœ€è¦ç»™ 100 ä¸‡ç”¨æˆ·å‘é€çŸ­ä¿¡é€šçŸ¥ï¼Œä¸€æ¡çŸ­ä¿¡é€šçŸ¥æµç¨‹éœ€è¦ 50msï¼Œåˆæ­¥è®¡ç®—å¦‚æœè¦ç»™æ‰€æœ‰ç”¨æˆ·å‘é€æˆåŠŸï¼Œæ‰§è¡Œæ—¶é—´å¤§æ¦‚éœ€è¦ 13 å°æ—¶å·¦å³ã€‚

![1710924369659-ac0388a5-aca6-43d4-ae06-b1f71ca81cc1.png](https://article-images.zsxq.com/Fl62UWxawjC4WjqcSy37FUMqMTo0)

å¤„ç†æ‰¹é‡ä»»åŠ¡å’Œå¿«é€Ÿå“åº”ç”¨æˆ·è¯·æ±‚ä¸ä¸€è‡´ï¼Œåœ¨åè€…çš„ä½¿ç”¨åœºæ™¯ä¸­ï¼Œä¸»çº¿ç¨‹éœ€è¦é˜»å¡çš„ç­‰å¾…æ‰€æœ‰ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œå› æ­¤å¿…é¡»è¦å°½å¯èƒ½å‡å°‘ç­‰å¾…æ—¶é—´ï¼Œè€Œå‰è€…çš„ä½¿ç”¨åœºæ™¯ä¸­åˆ™å®Œå…¨ä¸éœ€è¦è€ƒè™‘è¿™ä¸ªé—®é¢˜ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªåˆé€‚çš„é˜»å¡é˜Ÿåˆ—ç”¨æ¥ç¼“å†²ä»»åŠ¡ã€‚
> å¤§é‡ä»»åŠ¡å †ç§¯çº¿ç¨‹æ± é˜»å¡é˜Ÿåˆ—åœºæ™¯ä¸‹ï¼Œå¯èƒ½ä¼šé‡åˆ°é¡¹ç›®å‘å¸ƒé‡å¯æˆ–è€…æ„å¤–å®•æœºç­‰æƒ…å†µï¼Œè¿›è€Œå¯¼è‡´ä»»åŠ¡ä¸¢å¤±é£é™©ã€‚

å¦‚æœæˆ‘ä»¬é€šè¿‡çº¿ç¨‹æ± å¹¶å‘æ‰§è¡Œï¼Œå‡è®¾çº¿ç¨‹æ± å†…çº¿ç¨‹æ•°æ˜¯ 10 ä¸ªï¼Œé‚£ä¹ˆæ‰§è¡Œæ—¶é—´å°†ä¼šå¤§å¹…åº¦ç¼©å‡ï¼Œæœ€ä½³æƒ…å†µä¼šç¼©çŸ­æ—¶é—´æ—¶é—´æ¥è¿‘ 10 å€çš„æ€§èƒ½ï¼Œçº¦ç­‰äº 1 å°æ—¶ 38 åˆ†é’Ÿå·¦å³ã€‚

![1710924383065-d72a3b22-e146-4ba3-bef6-03916142d308.png](https://article-images.zsxq.com/FrbYdbCjGzYynz80GYCHB5ROplVo)

é€šè¿‡ä¸²è¡ŒåŒ–æ‰¹é‡å‘é€ç”¨æˆ·çŸ­ä¿¡é€šçŸ¥ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š  
textjavascripttypescriptcsshtmlbashjsonmarkdownpythonjavaccpprubygorustphpsqlyaml Copy

                    import cn.hutool.core.collection.ListUtil;
    import lombok.SneakyThrows;
    â€‹
    import java.util.List;
    â€‹
    public class Main {
    â€‹
        public static void main(String[] args) {
            List<String> phones = ListUtil.of("1560116xxxx", "1560116xxxx", "1560116xxxx", "1560116xxxx");
            for (String phone : phones) {
                sendPhoneSms(phone);
            }
        }
    â€‹
        /**
         * å‘é€æ‰‹æœºçŸ­ä¿¡æµç¨‹
         */
        @SneakyThrows
        private static void sendPhoneSms(String phone) {
            Thread.sleep(50);
        }
    }
              
åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨é˜»å¡é˜Ÿåˆ—æ¥ç¼“å†²ä»»åŠ¡ã€‚æäº¤ä»»åŠ¡çš„çº¿ç¨‹å°†ä»»åŠ¡æäº¤åˆ°çº¿ç¨‹æ± ï¼Œç„¶åçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹ä¼šä»é˜»å¡é˜Ÿåˆ—ä¸­è·å–ä»»åŠ¡å¹¶æ‰§è¡Œã€‚

è¿™ç§æ‰§è¡Œæ–¹å¼å…è®¸ä»»åŠ¡çš„æäº¤å’Œæ‰§è¡Œè§£è€¦ï¼Œæé«˜äº†ç³»ç»Ÿçš„çµæ´»æ€§å’Œå¹¶å‘å¤„ç†èƒ½åŠ›ã€‚  
textjavascripttypescriptcsshtmlbashjsonmarkdownpythonjavaccpprubygorustphpsqlyaml Copy

                    import cn.hutool.core.collection.ListUtil;
    import lombok.SneakyThrows;
    â€‹
    import java.util.List;
    import java.util.concurrent.LinkedBlockingQueue;
    import java.util.concurrent.ThreadPoolExecutor;
    import java.util.concurrent.TimeUnit;
    â€‹
    public class Main {
    â€‹
        private static final ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor(
                10,
                10,
                1024,
                TimeUnit.SECONDS,
                new LinkedBlockingQueue<>(100000));
    â€‹
        public static void main(String[] args) {
            List<String> phones = ListUtil.of("1560116xxxx", "1560116xxxx", "1560116xxxx", "1560116xxxx");
            for (String phone : phones) {
                threadPoolExecutor.execute(() -> sendPhoneSms(phone));
            }
        }
    â€‹
        /**
         * å‘é€æ‰‹æœºçŸ­ä¿¡æµç¨‹
         */
        @SneakyThrows
        private static void sendPhoneSms(String phone) {
            Thread.sleep(50);
        }
    }
              
ç»çŸ¥æ­¤äº‹è¦èº¬è¡Œï¼Œéå¸¸å»ºè®®å¤§å®¶èƒ½å¤Ÿå®é™…æœ¬åœ°ä»£ç è¿è¡Œä¸‹çº¿ç¨‹æ± ï¼Œå…¥é—¨å¹¶å‘ç¼–ç¨‹ä¸äºŒä¹‹é€‰ã€‚

å®Œç»“ï¼Œæ’’èŠ± ğŸ‰  

